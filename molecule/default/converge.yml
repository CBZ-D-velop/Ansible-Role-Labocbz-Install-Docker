---
- name: "Converge"
  hosts: "all"
  tasks:
    # replace these tasks with whatever you find suitable to test
    - name: "Copy something to test use of synchronize module"
      ansible.builtin.copy:
        src: "/etc/hosts"
        dest: "/tmp/hosts-from-controller"
        mode: 0700

    - name: "Include labocbz.install_docker"
      tags:
        - "labocbz.install_docker"
      vars:
        docker_cron_job_weekday: "{{ inv_docker_cron_job_weekday }}"
        docker_cron_job_minute: "{{ inv_docker_cron_job_minute }}"
        docker_cron_job_hour: "{{ inv_docker_cron_job_hour }}"
        docker_create_prune_cron_job: "{{ inv_docker_create_prune_cron_job }}"
        docker_create_cron_start_at_boot: "{{ inv_docker_create_cron_start_at_boot }}"
        docker_restart_after_boot_time: "{{ inv_docker_restart_after_boot_time }}"
        docker_compose_version: "{{ inv_docker_compose_version }}"
      ansible.builtin.include_role:
        name: "labocbz.install_docker"
